@@include('head.html',{
    "title":"건강365 | "
})
<body>
    <div class="layer-full-wrap">
        <!-- 헤더영역 -->
        @@include('header02.html',{
            "layertitle":"종합판정"
        })
        <!-- //헤더영역 -->

        <!-- 컨텐츠 영역 -->
        <section class="layer-content">
            <div class="chart-ele ty1">
                <canvas id="chart-canvas"></canvas>
            </div>
        </section>
        <!-- //컨텐츠 영역 -->
    </div>
</body>

<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@0.7.0"></script>
<script>
$(function(){

    var COLOR = {
        white: "#fff",
        black: "#000",
        red: "#c00000",
        blue: "#056bff",
        lightblue: "#0ca6ea",
        yellow: "#ffbf00",
        orange: "#ff7300"
    };

    var ctx = document.getElementById("chart-canvas").getContext("2d");

    var data = {
        labels: ['201510', '201703', '201901', '201903', '202010', '202009', '202009', '202009', '202009', '202009'],
        datasets: [
        {
            type: "line",
            data: [10, 9, 8, 7, 6, 5, 4, 3, 2, 1],
            //data: [10, 9, 8, 7, 1, 1, 1, 1, 1, 1],
            customTooltip: [{
                textColor: COLOR.white,
                bgColor: COLOR.blue,
                text: "정A"
            }, {
                textColor: COLOR.white,
                bgColor: COLOR.lightblue,
                text: "정B"
            }, {
                textColor: COLOR.black,
                bgColor: COLOR.yellow,
                text: "주의"
            }, {
                textColor: COLOR.white,
                bgColor: COLOR.orange,
                text: "의심"
            }, {
                textColor: COLOR.white,
                bgColor: COLOR.red,
                text: "고당"
            }, {
                textColor: COLOR.white,
                bgColor: COLOR.red,
                text: "유질"
            }, {
                textColor: COLOR.white,
                bgColor: COLOR.red,
                text: "일반"
            }, {
                textColor: COLOR.white,
                bgColor: COLOR.red,
                text: "직업"
            }, {
                textColor: COLOR.white,
                bgColor: COLOR.red,
                text: "단순"
            }, {
                textColor: COLOR.white,
                bgColor: COLOR.red,
                text: "휴무"
            }],
            fill: false,
            borderColor: 'rgba(0, 0, 0, 1)',
            lineTension: 0,
            borderWidth: 1,
        }]
    };

    var options = {
        responsive: true,
        maintainAspectRatio: false,
        legend: {
            display: false,
        },
        scales: {
            yAxes: [{
                ticks: {
                    display: false,
                    beginAtZero: true,
                    stepSize : 1,
                },
                // 최대값  + 1
                afterDataLimits(scale) {
                    scale.max += 1;
                }
            }],
        },
        layout: {
            // 레이아웃 여백
            padding: {
                top: 20,
                right: 20,
            }
        },
        tooltips: {
            enabled: false,
        },
        
        plugins: {
            datalabels: {
                align: 'top',
                font: {
                    size: '12',
                },
                borderRadius: 50,
                padding: {
                    top: 7,
                    right: 7,
                    bottom: 5,
                    left: 7,
                },
                // 색상 정의
                color: function(context) {
                    var index = context.dataIndex;
                    var value = context.dataset.customTooltip[index].textColor;
                    return value ? value : '#ffffff';
                },
                //바탕색 정의
                backgroundColor: function(context) {
                    var index = context.dataIndex;
                    var value = context.dataset.customTooltip[index].bgColor;
                    return value ? value : '#ffffff';
                },
                // Label 문구 정의
                formatter: function(value, context) {
                    var index = context.dataIndex;
                    var value = context.dataset.customTooltip[index].text;
                    return value;
                },
            }
        }
    }

    // 호출
    var myLineChart = new Chart(ctx, {
        type: 'bar',
        data: data,
        options: options,
    });    

})
</script>
</html>