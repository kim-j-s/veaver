@@include('head.html',{
    "title":"건강365 | "
})
<body>
    <div class="layer-full-wrap">
        <!-- 헤더영역 -->
        @@include('header02.html',{
            "layertitle":"종합판정"
        })
        <!-- //헤더영역 -->

        <!-- 컨텐츠 영역 -->
        <section class="layer-content">
            <div class="chart-ele ty1">
                <canvas id="chart-canvas"></canvas>
            </div>
        </section>
        <!-- //컨텐츠 영역 -->
    </div>
</body>

<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@0.7.0"></script>
<script>
$(function(){

    var ctx = document.getElementById("chart-canvas").getContext("2d");

    var data = {
        labels: ['201510', '201703', '201901', '201903', '202010', '202009', '202009', '202009', '202009', '202009'],
        datasets: [
        {
            type: "line",
            data: [10, 9, 8, 7, 6, 5, 4, 3, 2, 1],
            fill: false,
            borderColor: 'rgba(0, 0, 0, 1)',
            lineTension: 0,
            borderWidth: 1,
        }]
    };

    var options = {
        responsive: true,
        maintainAspectRatio: false,
        legend: {
            display: false,
        },
        scales: {
            yAxes: [{
                ticks: {
                    display: false,
                    beginAtZero: true,
                    stepSize : 1,
                },
                // 최대값  + 1
                afterDataLimits(scale) {
                    scale.max += 1;
                }
            }],
        },
        layout: {
            // 레이아웃 여백
            padding: {
                top: 20,
                right: 20,
            }
        },
        tooltips: {
            enabled: false,
        },
        
        plugins: {
            datalabels: {
                align: 'top',
                font: {
                    size: '12',
                },
                borderRadius: 50,
                padding: {
                    top: 7,
                    right: 7,
                    bottom: 5,
                    left: 7,
                },
                // 색상 정의
                color: function(context) {
                    var index = context.dataIndex;
                    var value = context.dataset.data[index];
                    return value == 8 ? '#000000' : '#ffffff';
                },
                //바탕색 정의
                backgroundColor: function(context) {
                    var index = context.dataIndex;
                    var value = context.dataset.data[index];
                    return value == 10 ? '#056bff' :
                           value == 9 ? '#0ca6ea' :
                           value == 8 ? '#ffbf00' :
                           value == 7 ? '#ff7300' : '#c00000';
                },
                // Label 문구 정의
                formatter: function(value, context) {
                    if ( value == 1) { value = '휴무' }
                    if ( value == 2) { value = '단순' }
                    if ( value == 3) { value = '직업' }
                    if ( value == 4) { value = '일반' }
                    if ( value == 5) { value = '유질' }
                    if ( value == 6) { value = '고당' }
                    if ( value == 7) { value = '의심' }
                    if ( value == 8) { value = '주의' }
                    if ( value == 9) { value = '정B' }
                    if ( value == 10) { value = '정A' }
                    return value;
                },
            }
        }
    }

    // 호출
    var myLineChart = new Chart(ctx, {
        //type: 'line',
        type: 'bar',
        data: data,
        options: options,
    });    

})
</script>
</html>