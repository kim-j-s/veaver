@@include('head.html',{
    "title":"건강365 | "
})
<body>
    <div class="layer-full-wrap">
        <!-- 헤더영역 -->
        @@include('header02.html',{
            "layertitle":"혈색소"
        })
        <!-- //헤더영역 -->

        <!-- 컨텐츠 영역 -->
        <section class="layer-content">
            <!-- waterwheel-slide -->
            <div class="waterwheel-slide">
                <div class="wws-inner">
                    <span class="wws-item">질환1</span>
                    <span class="wws-item">질환2</span>
                    <span class="wws-item">질환3</span>
                    <span class="wws-item">질환4</span>
                    <span class="wws-item">질환5</span>
                    <span class="wws-item">질환6</span>
                </div>
            </div>
            <!-- // waterwheel-slide -->

            <!-- chart-sorting-tab -->
            <div class="chart-sorting-tab">
                <a class="on" href="">주간</a>
                <a href="">월간</a>
                <a href="">연간</a>
                <a href="">전체</a>
            </div>
            <!-- chart-sorting-tab -->

            <div class="chart-ele ty1">
                <p class="chart-tit">23 <span class="unit">Kg/m2</span></p>
                <canvas id="chart-canvas"></canvas>
            </div>

            <!-- chart-sorting-chk -->
            <div class="chart-sorting-chk">
                <label class="checkbox-rnd-gr">
                    <input type="checkbox" checked>
                    <span>총콜레스테롤</span>
                </label>
                <label class="checkbox-rnd-gr">
                    <input type="checkbox">
                    <span>LDL콜레스테롤</span>
                </label>
                <label class="checkbox-rnd-gr">
                    <input type="checkbox">
                    <span>HDL콜레스테롤</span>
                </label>
            </div>
            <!-- chart-sorting-chk -->

        </section>
        <!-- //컨텐츠 영역 -->
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@0.7.0"></script>
<script>
// 차트
$(function(){

    var COLOR = {
        type1: "#fff",
        type2: "#000",
        type3: "#056bff",
        type4: "#0ca6ea",
        type5: "#ffbf00",
        type6: "#ff7300",
        type7: "#c00000",
    };

    var ctx = document.getElementById("chart-canvas").getContext("2d");

    var data = {
        labels: ['201510', '201703', '201901', '201903', '202010', '202009', '202009', '202009', '202009', '202009'],
        datasets: [
        {
            type: "line",
            data: [10, 9, 8, 7, 6, 5, 4, 3, 2, 1],
            //data: [10, 9, 8, 7, 1, 1, 1, 1, 1, 1],
            customTooltip: [{
                textColor: COLOR.type1,
                bgColor: COLOR.type3,
                text: "정A"
            }, {
                textColor: COLOR.type1,
                bgColor: COLOR.type4,
                text: "정B"
            }, {
                textColor: COLOR.type2,
                bgColor: COLOR.type5,
                text: "주의"
            }, {
                textColor: COLOR.type1,
                bgColor: COLOR.type6,
                text: "의심"
            }, {
                textColor: COLOR.type1,
                bgColor: COLOR.type7,
                text: "고당"
            }, {
                textColor: COLOR.type1,
                bgColor: COLOR.type7,
                text: "유질"
            }, {
                textColor: COLOR.type1,
                bgColor: COLOR.type7,
                text: "일반"
            }, {
                textColor: COLOR.type1,
                bgColor: COLOR.type7,
                text: "직업"
            }, {
                textColor: COLOR.type1,
                bgColor: COLOR.type7,
                text: "단순"
            }, {
                textColor: COLOR.type1,
                bgColor: COLOR.type7,
                text: "휴무"
            }],
            fill: false,
            borderColor: 'rgba(0, 0, 0, 1)',
            lineTension: 0,
            borderWidth: 1,
        }]
    };

    var options = {
        responsive: true,
        maintainAspectRatio: false,
        legend: {
            display: false,
        },
        scales: {
            yAxes: [{
                ticks: {
                    display: false,
                    beginAtZero: true,
                    stepSize : 1,
                },
                // 최대값  + 1
                afterDataLimits(scale) {
                    scale.max += 1;
                }
            }],
        },
        layout: {
            // 레이아웃 여백
            padding: {
                top: 20,
                right: 20,
            }
        },
        tooltips: {
            enabled: false,
        },
        
        plugins: {
            datalabels: {
                align: 'top',
                font: {
                    size: '12',
                },
                borderRadius: 50,
                padding: {
                    top: 7,
                    right: 7,
                    bottom: 5,
                    left: 7,
                },
                // 색상 정의
                color: function(context) {
                    var index = context.dataIndex;
                    var value = context.dataset.customTooltip[index].textColor;
                    return value ? value : '#ffffff';
                },
                //바탕색 정의
                backgroundColor: function(context) {
                    var index = context.dataIndex;
                    var value = context.dataset.customTooltip[index].bgColor;
                    return value ? value : '#ffffff';
                },
                // Label 문구 정의
                formatter: function(value, context) {
                    var index = context.dataIndex;
                    var value = context.dataset.customTooltip[index].text;
                    return value;
                },
            }
        }
    }

    // 호출
    var myLineChart = new Chart(ctx, {
        type: 'bar',
        data: data,
        options: options,
    });    

})
</script>
<script>
// 탭
    $('.waterwheel-slide').wwsInit();

    $('.waterwheel-slide').on('tabChange',function() {
        console.log($(this).find('.crt').text());

    });
</script>
</html>